{"entries":[{"timestamp":1756255978587,"editorVersion":"8.0.16","changes":[{"type":"edited","filename":"main.blocks","patch":[{"start1":0,"length1":1092,"diffs":[[1,"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"6+S:;Ev21XAQ??l=H5;D\">텍스트사용</variable><variable id=\"{(K}Uk?eoFwig!-x_qC)\">Kp</variable><variable id=\"pM]T-!XbgsD@ovL?1-/s\">Kd</variable><variable id=\"Z^,fSSOxAZ08b+dk_)lj\">cur_x</variable><variable id=\".uZuY}^EeQw_*4:`fGJf\">cur_y</variable><variable id=\"/EYCqO3)sQuj4+R:y+yi\">x_raw</variable><variable id=\"]^9.fZ`4(W72h~WX$Oaf\">y_raw</variable><variable id=\"QIJtx9qyDM#gSR!a#*JN\">target_x</variable><variable id=\"dzsQsS}8$!=aPB}yd,*H\">target_y</variable><variable id=\";=5!#~XOm[gK7/Z0@JNN\">err_x</variable><variable id=\"UHf.uxhr8wr}ReW]|svL\">err_y</variable><variable id=\"xqF,6S,,:(u#Y:}=DQNW\">ctrl_x</variable><variable id=\"Su:xLogDX)-QOIc5.8PB\">prev_err_x</variable><variable id=\"qDSazKOYOY63%jLY}i1j\">ctrl_y</variable><variable id=\"jYz]$cX~7lHuy$zPJ#gy\">prev_err_y</variable><variable id=\"r/gQFU_-IjgL!A^e{Sbp\">px</variable><variable id=\"p|PDe|FhM/WVPH?RS50$\">py</variable><variable id=\"Em^~pd2SEABf^%LxNq_I\">servo1_angle</variable><variable id=\"gV*:h!^.xyP~sfl#3biE\">servo2_angle</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"soundExpression_createSoundExpression\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"3\" _input_init=\"true\"></mutation><field name=\"waveShape\">WaveShape.Noise</field><field name=\"effect\">SoundExpressionEffect.None</field><field name=\"interpolation\">InterpolationCurve.Linear</field><data>{\"commentRefs\":[],\"fieldData\":{\"waveShape\":\"{\\\"duration\\\":500,\\\"startFrequency\\\":1,\\\"endFrequency\\\":1,\\\"startVolume\\\":255,\\\"endVolume\\\":0,\\\"wave\\\":\\\"noise\\\",\\\"interpolation\\\":\\\"linear\\\",\\\"effect\\\":\\\"none\\\"}\"}}</data><value name=\"startFrequency\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"5000\" label=\"StartFrequency\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><value name=\"endFrequency\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"5000\" label=\"EndFrequency\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><value name=\"duration\"><shadow type=\"math_number_minmax\"><mutation min=\"1\" max=\"9999\" label=\"Duration\" precision=\"0\"></mutation><field name=\"SLIDER\">500</field></shadow></value><value name=\"startVolume\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" label=\"StartVolume\" precision=\"0\"></mutation><field name=\"SLIDER\">255</field></shadow></value><value name=\"endVolume\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" label=\"EndVolume\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let x_raw: number;\" numlines=\"1\" declaredvars=\"x_raw\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let servo1_angle: number;\" numlines=\"1\" declaredvars=\"servo1_angle\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let servo2_angle: number;\" numlines=\"1\" declaredvars=\"servo2_angle\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function show_text_step(text: string, delay: number = 500, blank: number = 100) {\" line1=\"    for (let c of text) {\" line2=\"        basic.showString(c, 50)\" line3=\"        //  글자 표시\" line4=\"        basic.pause(delay)\" line5=\"        //  유지\" line6=\"        basic.clearScreen()\" line7=\"        //  지우기\" line8=\"        basic.pause(blank)\" line9=\"    }\" line10=\"}\" numlines=\"11\"></mutation><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">빈 화면</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6+S:;Ev21XAQ??l=H5;D\">텍스트사용</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"{(K}Uk?eoFwig!-x_qC)\">Kp</field><comment pinned=\"false\" h=\"80\" w=\"160\">PID 계수</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0.1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"pM]T-!XbgsD@ovL?1-/s\">Kd</field><comment pinned=\"false\" h=\"80\" w=\"160\">(0.3)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0.1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Z^,fSSOxAZ08b+dk_)lj\">cur_x</field><comment pinned=\"false\" h=\"80\" w=\"160\">(0.2)\n현재 위치 (float로 유지)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\".uZuY}^EeQw_*4:`fGJf\">cur_y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6+S:;Ev21XAQ??l=H5;D\">텍스트사용</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"/EYCqO3)sQuj4+R:y+yi\">x_raw</field><comment pinned=\"false\" h=\"80\" w=\"160\">가속도 값 읽기 (-1024 ~ +1024)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_acceleration\"><field name=\"NAME\">Dimension.X</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"]^9.fZ`4(W72h~WX$Oaf\">y_raw</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_acceleration\"><field name=\"NAME\">Dimension.Y</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QIJtx9qyDM#gSR!a#*JN\">target_x</field><comment pinned=\"false\" h=\"80\" w=\"160\">좌표 변환: -1024~+1024 → 0~4</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/EYCqO3)sQuj4+R:y+yi\">x_raw</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">256</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">6</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">512</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"dzsQsS}8$!=aPB}yd,*H\">target_y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"]^9.fZ`4(W72h~WX$Oaf\">y_raw</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">256</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">6</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">512</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\";=5!#~XOm[gK7/Z0@JNN\">err_x</field><comment pinned=\"false\" h=\"80\" w=\"160\">PID 제어</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QIJtx9qyDM#gSR!a#*JN\">target_x</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z^,fSSOxAZ08b+dk_)lj\">cur_x</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"UHf.uxhr8wr}ReW]|svL\">err_y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"dzsQsS}8$!=aPB}yd,*H\">target_y</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".uZuY}^EeQw_*4:`fGJf\">cur_y</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xqF,6S,,:(u#Y:}=DQNW\">ctrl_x</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{(K}Uk?eoFwig!-x_qC)\">Kp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";=5!#~XOm[gK7/Z0@JNN\">err_x</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"pM]T-!XbgsD@ovL?1-/s\">Kd</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";=5!#~XOm[gK7/Z0@JNN\">err_x</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Su:xLogDX)-QOIc5.8PB\">prev_err_x</field></block></value></block></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"qDSazKOYOY63%jLY}i1j\">ctrl_y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{(K}Uk?eoFwig!-x_qC)\">Kp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"UHf.uxhr8wr}ReW]|svL\">err_y</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"pM]T-!XbgsD@ovL?1-/s\">Kd</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"UHf.uxhr8wr}ReW]|svL\">err_y</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"jYz]$cX~7lHuy$zPJ#gy\">prev_err_y</field></block></value></block></value></block></value></block></value><next><block type=\"variables_change\"><field name=\"VAR\" id=\"Z^,fSSOxAZ08b+dk_)lj\">cur_x</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"xqF,6S,,:(u#Y:}=DQNW\">ctrl_x</field></block></value><next><block type=\"variables_change\"><field name=\"VAR\" id=\".uZuY}^EeQw_*4:`fGJf\">cur_y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"qDSazKOYOY63%jLY}i1j\">ctrl_y</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Su:xLogDX)-QOIc5.8PB\">prev_err_x</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";=5!#~XOm[gK7/Z0@JNN\">err_x</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"jYz]$cX~7lHuy$zPJ#gy\">prev_err_y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"UHf.uxhr8wr}ReW]|svL\">err_y</field></block></value><next><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">LED 표시</comment><next><block type=\"variables_set\"><field name=\"VAR\" id=\"r/gQFU_-IjgL!A^e{Sbp\">px</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op2\"><field name=\"op\">min</field><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value><value name=\"y\"><block type=\"math_op2\"><field name=\"op\">max</field><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"y\"><block type=\"math_js_round\"><field name=\"OP\">trunc</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z^,fSSOxAZ08b+dk_)lj\">cur_x</field></block></value></block></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"p|PDe|FhM/WVPH?RS50$\">py</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op2\"><field name=\"op\">min</field><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value><value name=\"y\"><block type=\"math_op2\"><field name=\"op\">max</field><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"y\"><block type=\"math_js_round\"><field name=\"OP\">trunc</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".uZuY}^EeQw_*4:`fGJf\">cur_y</field></block></value></block></value></block></value></block></value><next><block type=\"device_plot_brightness\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"r/gQFU_-IjgL!A^e{Sbp\">px</field></block></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"p|PDe|FhM/WVPH?RS50$\">py</field></block></value><value name=\"brightness\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">255</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Em^~pd2SEABf^%LxNq_I\">servo1_angle</field><comment pinned=\"false\" h=\"80\" w=\"160\">=== 서보 제어 추가 ===\nX축 → 서보1 (핀 P1)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_map\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/EYCqO3)sQuj4+R:y+yi\">x_raw</field></block></value><value name=\"fromLow\"><shadow type=\"math_number\"><field name=\"NUM\">-1024</field></shadow></value><value name=\"fromHigh\"><shadow type=\"math_number\"><field name=\"NUM\">1024</field></shadow></value><value name=\"toLow\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"toHigh\"><shadow type=\"math_number\"><field name=\"NUM\">180</field></shadow></value></block></value><next><block type=\"device_set_servo_pin\"><value name=\"name\"><shadow type=\"analog_pin_shadow\"><field name=\"pin\">AnalogPin.P1</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"180\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Em^~pd2SEABf^%LxNq_I\">servo1_angle</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"gV*:h!^.xyP~sfl#3biE\">servo2_angle</field><comment pinned=\"false\" h=\"80\" w=\"160\">Y축 → 서보2 (핀 P2)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_map\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"]^9.fZ`4(W72h~WX$Oaf\">y_raw</field></block></value><value name=\"fromLow\"><shadow type=\"math_number\"><field name=\"NUM\">-1024</field></shadow></value><value name=\"fromHigh\"><shadow type=\"math_number\"><field name=\"NUM\">1024</field></shadow></value><value name=\"toLow\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"toHigh\"><shadow type=\"math_number\"><field name=\"NUM\">180</field></shadow></value></block></value><next><block type=\"device_set_servo_pin\"><value name=\"name\"><shadow type=\"analog_pin_shadow\"><field name=\"pin\">AnalogPin.P2</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"180\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"gV*:h!^.xyP~sfl#3biE\">servo2_angle</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">5</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"1031\" y=\"20\"><field name=\"NAME\">Button.B</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"6+S:;Ev21XAQ??l=H5;D\">텍스트사용</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_tone_playable\"><value name=\"note\"><shadow type=\"device_note\"><field name=\"name\">262</field></shadow></value><value name=\"duration\"><shadow type=\"device_beat\"><field name=\"fraction\">BeatFraction.Sixteenth</field></shadow></value></shadow></value><next><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        . # # # . \n        # . . . # \n        # . . . # \n        # . . . # \n        . # # # .\n        `</field><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">0.2초 표시 + 0.05초 빈화면</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">200</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"6+S:;Ev21XAQ??l=H5;D\">텍스트사용</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"1602\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">100ms 동안 빈 화면 유지</comment><statement name=\"HANDLER\"><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_tone_playable\"><value name=\"note\"><shadow type=\"device_note\"><field name=\"name\">262</field></shadow></value><value name=\"duration\"><shadow type=\"device_beat\"><field name=\"fraction\">BeatFraction.Sixteenth</field></shadow></value></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"6+S:;Ev21XAQ??l=H5;D\">텍스트사용</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"device_set_servo_pin\"><value name=\"name\"><shadow type=\"analog_pin_shadow\"><field name=\"pin\">AnalogPin.P1</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"180\" label=\"Value\" precision=\"0\"></mutation><field name=\"SLIDER\">90</field></shadow></value><next><block type=\"device_set_servo_pin\"><value name=\"name\"><shadow type=\"analog_pin_shadow\"><field name=\"pin\">AnalogPin.P2</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"180\" label=\"Value\" precision=\"0\"></mutation><field name=\"SLIDER\">90</field></shadow></value><next><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        # . . . # \n        . # . # . \n        . . # . . \n        . # . # . \n        # . . . #\n        `</field></block></next></block></next></block></next></block></next></block></statement></block><block type=\"input_logo_event\" x=\"2172\" y=\"20\"><field name=\"action\">TouchButtonEvent.Pressed</field><statement name=\"HANDLER\"><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_tone_playable\"><value name=\"note\"><shadow type=\"device_note\"><field name=\"name\">262</field></shadow></value><value name=\"duration\"><shadow type=\"device_beat\"><field name=\"fraction\">BeatFraction.Sixteenth</field></shadow></value></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"6+S:;Ev21XAQ??l=H5;D\">텍스트사용</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"device_clear_display\"><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"show_text_step(&quot;2025/8/18/SLOP DETECTION&quot;, 200, 50)\" numlines=\"1\"></mutation><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">0.2초 표시 + 0.05초 빈화면</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">100</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"6+S:;Ev21XAQ??l=H5;D\">텍스트사용</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":2,"length1":34,"diffs":[[1,"    \"name\": \"기울기센서_16_GrantOK_2\",\n"]]},{"start1":335,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"}]}],"snapshots":[{"timestamp":1756255978586,"editorVersion":"8.0.16","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"6+S:;Ev21XAQ??l=H5;D\">텍스트사용</variable><variable id=\"{(K}Uk?eoFwig!-x_qC)\">Kp</variable><variable id=\"pM]T-!XbgsD@ovL?1-/s\">Kd</variable><variable id=\"Z^,fSSOxAZ08b+dk_)lj\">cur_x</variable><variable id=\".uZuY}^EeQw_*4:`fGJf\">cur_y</variable><variable id=\"/EYCqO3)sQuj4+R:y+yi\">x_raw</variable><variable id=\"]^9.fZ`4(W72h~WX$Oaf\">y_raw</variable><variable id=\"QIJtx9qyDM#gSR!a#*JN\">target_x</variable><variable id=\"dzsQsS}8$!=aPB}yd,*H\">target_y</variable><variable id=\";=5!#~XOm[gK7/Z0@JNN\">err_x</variable><variable id=\"UHf.uxhr8wr}ReW]|svL\">err_y</variable><variable id=\"xqF,6S,,:(u#Y:}=DQNW\">ctrl_x</variable><variable id=\"Su:xLogDX)-QOIc5.8PB\">prev_err_x</variable><variable id=\"qDSazKOYOY63%jLY}i1j\">ctrl_y</variable><variable id=\"jYz]$cX~7lHuy$zPJ#gy\">prev_err_y</variable><variable id=\"r/gQFU_-IjgL!A^e{Sbp\">px</variable><variable id=\"p|PDe|FhM/WVPH?RS50$\">py</variable><variable id=\"Em^~pd2SEABf^%LxNq_I\">servo1_angle</variable><variable id=\"gV*:h!^.xyP~sfl#3biE\">servo2_angle</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"soundExpression_createSoundExpression\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"3\" _input_init=\"true\"></mutation><field name=\"waveShape\">WaveShape.Noise</field><field name=\"effect\">SoundExpressionEffect.None</field><field name=\"interpolation\">InterpolationCurve.Linear</field><data>{\"commentRefs\":[],\"fieldData\":{\"waveShape\":\"{\\\"duration\\\":500,\\\"startFrequency\\\":1,\\\"endFrequency\\\":1,\\\"startVolume\\\":255,\\\"endVolume\\\":0,\\\"wave\\\":\\\"noise\\\",\\\"interpolation\\\":\\\"linear\\\",\\\"effect\\\":\\\"none\\\"}\"}}</data><value name=\"startFrequency\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"5000\" label=\"StartFrequency\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><value name=\"endFrequency\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"5000\" label=\"EndFrequency\" precision=\"0\"></mutation><field name=\"SLIDER\">1</field></shadow></value><value name=\"duration\"><shadow type=\"math_number_minmax\"><mutation min=\"1\" max=\"9999\" label=\"Duration\" precision=\"0\"></mutation><field name=\"SLIDER\">500</field></shadow></value><value name=\"startVolume\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" label=\"StartVolume\" precision=\"0\"></mutation><field name=\"SLIDER\">255</field></shadow></value><value name=\"endVolume\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" label=\"EndVolume\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow></value></shadow></value><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let x_raw: number;\" numlines=\"1\" declaredvars=\"x_raw\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let servo1_angle: number;\" numlines=\"1\" declaredvars=\"servo1_angle\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"let servo2_angle: number;\" numlines=\"1\" declaredvars=\"servo2_angle\"></mutation><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"function show_text_step(text: string, delay: number = 500, blank: number = 100) {\" line1=\"    for (let c of text) {\" line2=\"        basic.showString(c, 50)\" line3=\"        //  글자 표시\" line4=\"        basic.pause(delay)\" line5=\"        //  유지\" line6=\"        basic.clearScreen()\" line7=\"        //  지우기\" line8=\"        basic.pause(blank)\" line9=\"    }\" line10=\"}\" numlines=\"11\"></mutation><next><block type=\"controls_if\"><comment pinned=\"false\" h=\"80\" w=\"160\">빈 화면</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6+S:;Ev21XAQ??l=H5;D\">텍스트사용</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"{(K}Uk?eoFwig!-x_qC)\">Kp</field><comment pinned=\"false\" h=\"80\" w=\"160\">PID 계수</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0.1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"pM]T-!XbgsD@ovL?1-/s\">Kd</field><comment pinned=\"false\" h=\"80\" w=\"160\">(0.3)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0.1</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Z^,fSSOxAZ08b+dk_)lj\">cur_x</field><comment pinned=\"false\" h=\"80\" w=\"160\">(0.2)\n현재 위치 (float로 유지)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\".uZuY}^EeQw_*4:`fGJf\">cur_y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">2</field></shadow></value><next><block type=\"device_while\"><value name=\"COND\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow></value><statement name=\"DO\"><block type=\"controls_if\"><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">EQ</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"6+S:;Ev21XAQ??l=H5;D\">텍스트사용</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"/EYCqO3)sQuj4+R:y+yi\">x_raw</field><comment pinned=\"false\" h=\"80\" w=\"160\">가속도 값 읽기 (-1024 ~ +1024)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_acceleration\"><field name=\"NAME\">Dimension.X</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"]^9.fZ`4(W72h~WX$Oaf\">y_raw</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_acceleration\"><field name=\"NAME\">Dimension.Y</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"QIJtx9qyDM#gSR!a#*JN\">target_x</field><comment pinned=\"false\" h=\"80\" w=\"160\">좌표 변환: -1024~+1024 → 0~4</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"/EYCqO3)sQuj4+R:y+yi\">x_raw</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">256</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">6</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">512</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"dzsQsS}8$!=aPB}yd,*H\">target_y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">DIVIDE</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"]^9.fZ`4(W72h~WX$Oaf\">y_raw</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">256</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">6</field></shadow></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">512</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\";=5!#~XOm[gK7/Z0@JNN\">err_x</field><comment pinned=\"false\" h=\"80\" w=\"160\">PID 제어</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"QIJtx9qyDM#gSR!a#*JN\">target_x</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z^,fSSOxAZ08b+dk_)lj\">cur_x</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"UHf.uxhr8wr}ReW]|svL\">err_y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"dzsQsS}8$!=aPB}yd,*H\">target_y</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".uZuY}^EeQw_*4:`fGJf\">cur_y</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"xqF,6S,,:(u#Y:}=DQNW\">ctrl_x</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{(K}Uk?eoFwig!-x_qC)\">Kp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";=5!#~XOm[gK7/Z0@JNN\">err_x</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"pM]T-!XbgsD@ovL?1-/s\">Kd</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";=5!#~XOm[gK7/Z0@JNN\">err_x</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Su:xLogDX)-QOIc5.8PB\">prev_err_x</field></block></value></block></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"qDSazKOYOY63%jLY}i1j\">ctrl_y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{(K}Uk?eoFwig!-x_qC)\">Kp</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"UHf.uxhr8wr}ReW]|svL\">err_y</field></block></value></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MULTIPLY</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"pM]T-!XbgsD@ovL?1-/s\">Kd</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_arithmetic\"><field name=\"OP\">MINUS</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"UHf.uxhr8wr}ReW]|svL\">err_y</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"jYz]$cX~7lHuy$zPJ#gy\">prev_err_y</field></block></value></block></value></block></value></block></value><next><block type=\"variables_change\"><field name=\"VAR\" id=\"Z^,fSSOxAZ08b+dk_)lj\">cur_x</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"xqF,6S,,:(u#Y:}=DQNW\">ctrl_x</field></block></value><next><block type=\"variables_change\"><field name=\"VAR\" id=\".uZuY}^EeQw_*4:`fGJf\">cur_y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"qDSazKOYOY63%jLY}i1j\">ctrl_y</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Su:xLogDX)-QOIc5.8PB\">prev_err_x</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\";=5!#~XOm[gK7/Z0@JNN\">err_x</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"jYz]$cX~7lHuy$zPJ#gy\">prev_err_y</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"UHf.uxhr8wr}ReW]|svL\">err_y</field></block></value><next><block type=\"device_clear_display\"><comment pinned=\"false\" h=\"80\" w=\"160\">LED 표시</comment><next><block type=\"variables_set\"><field name=\"VAR\" id=\"r/gQFU_-IjgL!A^e{Sbp\">px</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op2\"><field name=\"op\">min</field><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value><value name=\"y\"><block type=\"math_op2\"><field name=\"op\">max</field><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"y\"><block type=\"math_js_round\"><field name=\"OP\">trunc</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Z^,fSSOxAZ08b+dk_)lj\">cur_x</field></block></value></block></value></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"p|PDe|FhM/WVPH?RS50$\">py</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_op2\"><field name=\"op\">min</field><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">4</field></shadow></value><value name=\"y\"><block type=\"math_op2\"><field name=\"op\">max</field><value name=\"x\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"y\"><block type=\"math_js_round\"><field name=\"OP\">trunc</field><value name=\"ARG0\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\".uZuY}^EeQw_*4:`fGJf\">cur_y</field></block></value></block></value></block></value></block></value><next><block type=\"device_plot_brightness\"><value name=\"x\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"r/gQFU_-IjgL!A^e{Sbp\">px</field></block></value><value name=\"y\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"4\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"p|PDe|FhM/WVPH?RS50$\">py</field></block></value><value name=\"brightness\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"255\" precision=\"0\"></mutation><field name=\"SLIDER\">255</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"Em^~pd2SEABf^%LxNq_I\">servo1_angle</field><comment pinned=\"false\" h=\"80\" w=\"160\">=== 서보 제어 추가 ===\nX축 → 서보1 (핀 P1)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_map\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"/EYCqO3)sQuj4+R:y+yi\">x_raw</field></block></value><value name=\"fromLow\"><shadow type=\"math_number\"><field name=\"NUM\">-1024</field></shadow></value><value name=\"fromHigh\"><shadow type=\"math_number\"><field name=\"NUM\">1024</field></shadow></value><value name=\"toLow\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"toHigh\"><shadow type=\"math_number\"><field name=\"NUM\">180</field></shadow></value></block></value><next><block type=\"device_set_servo_pin\"><value name=\"name\"><shadow type=\"analog_pin_shadow\"><field name=\"pin\">AnalogPin.P1</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"180\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"Em^~pd2SEABf^%LxNq_I\">servo1_angle</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"gV*:h!^.xyP~sfl#3biE\">servo2_angle</field><comment pinned=\"false\" h=\"80\" w=\"160\">Y축 → 서보2 (핀 P2)</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_map\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"]^9.fZ`4(W72h~WX$Oaf\">y_raw</field></block></value><value name=\"fromLow\"><shadow type=\"math_number\"><field name=\"NUM\">-1024</field></shadow></value><value name=\"fromHigh\"><shadow type=\"math_number\"><field name=\"NUM\">1024</field></shadow></value><value name=\"toLow\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"toHigh\"><shadow type=\"math_number\"><field name=\"NUM\">180</field></shadow></value></block></value><next><block type=\"device_set_servo_pin\"><value name=\"name\"><shadow type=\"analog_pin_shadow\"><field name=\"pin\">AnalogPin.P2</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"180\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"gV*:h!^.xyP~sfl#3biE\">servo2_angle</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">5</field></shadow></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"1031\" y=\"20\"><field name=\"NAME\">Button.B</field><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"6+S:;Ev21XAQ??l=H5;D\">텍스트사용</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_tone_playable\"><value name=\"note\"><shadow type=\"device_note\"><field name=\"name\">262</field></shadow></value><value name=\"duration\"><shadow type=\"device_beat\"><field name=\"fraction\">BeatFraction.Sixteenth</field></shadow></value></shadow></value><next><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        . # # # . \n        # . . . # \n        # . . . # \n        # . . . # \n        . # # # .\n        `</field><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">0.2초 표시 + 0.05초 빈화면</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">200</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"6+S:;Ev21XAQ??l=H5;D\">텍스트사용</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_button_event\" x=\"1602\" y=\"20\"><field name=\"NAME\">Button.A</field><comment pinned=\"false\" h=\"80\" w=\"160\">100ms 동안 빈 화면 유지</comment><statement name=\"HANDLER\"><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_tone_playable\"><value name=\"note\"><shadow type=\"device_note\"><field name=\"name\">262</field></shadow></value><value name=\"duration\"><shadow type=\"device_beat\"><field name=\"fraction\">BeatFraction.Sixteenth</field></shadow></value></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"6+S:;Ev21XAQ??l=H5;D\">텍스트사용</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"device_set_servo_pin\"><value name=\"name\"><shadow type=\"analog_pin_shadow\"><field name=\"pin\">AnalogPin.P1</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"180\" label=\"Value\" precision=\"0\"></mutation><field name=\"SLIDER\">90</field></shadow></value><next><block type=\"device_set_servo_pin\"><value name=\"name\"><shadow type=\"analog_pin_shadow\"><field name=\"pin\">AnalogPin.P2</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"180\" label=\"Value\" precision=\"0\"></mutation><field name=\"SLIDER\">90</field></shadow></value><next><block type=\"device_show_leds\"><field name=\"LEDS\">`\n        # . . . # \n        . # . # . \n        . . # . . \n        . # . # . \n        # . . . #\n        `</field></block></next></block></next></block></next></block></next></block></statement></block><block type=\"input_logo_event\" x=\"2172\" y=\"20\"><field name=\"action\">TouchButtonEvent.Pressed</field><statement name=\"HANDLER\"><block type=\"music_playable_play\"><field name=\"playbackMode\">music.PlaybackMode.UntilDone</field><value name=\"toPlay\"><shadow type=\"music_tone_playable\"><value name=\"note\"><shadow type=\"device_note\"><field name=\"name\">262</field></shadow></value><value name=\"duration\"><shadow type=\"device_beat\"><field name=\"fraction\">BeatFraction.Sixteenth</field></shadow></value></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"6+S:;Ev21XAQ??l=H5;D\">텍스트사용</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"device_clear_display\"><next><block type=\"typescript_statement\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" line0=\"show_text_step(&quot;2025/8/18/SLOP DETECTION&quot;, 200, 50)\" numlines=\"1\"></mutation><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">0.2초 표시 + 0.05초 빈화면</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">100</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"6+S:;Ev21XAQ??l=H5;D\">텍스트사용</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"// 재성모빌리티 기울기보정시스템/2025.12.31\ninput.onButtonPressed(Button.A, function () {\n    music.play(music.tonePlayable(262, music.beat(BeatFraction.Sixteenth)), music.PlaybackMode.UntilDone)\n    텍스트사용 = 1\n    pins.servoWritePin(AnalogPin.P1, 90)\n    pins.servoWritePin(AnalogPin.P2, 90)\n    basic.showLeds(`\n        # . . . #\n        . # . # .\n        . . # . .\n        . # . # .\n        # . . . #\n        `)\n})\ninput.onButtonPressed(Button.B, function () {\n    텍스트사용 = 1\n    music.play(music.tonePlayable(262, music.beat(BeatFraction.Sixteenth)), music.PlaybackMode.UntilDone)\n    basic.showLeds(`\n        . # # # .\n        # . . . #\n        # . . . #\n        # . . . #\n        . # # # .\n        `)\n    // 0.2초 표시 + 0.05초 빈화면\n    basic.pause(200)\n    텍스트사용 = 0\n})\ninput.onLogoEvent(TouchButtonEvent.Pressed, function () {\n    music.play(music.tonePlayable(262, music.beat(BeatFraction.Sixteenth)), music.PlaybackMode.UntilDone)\n    텍스트사용 = 1\n    basic.clearScreen()\n    show_text_step(\"2025/12/31/SLOP DETECTION\", 200, 50)\n// 0.2초 표시 + 0.05초 빈화면\n    basic.pause(100)\n    텍스트사용 = 0\n})\nlet py = 0\nlet px = 0\nlet prev_err_y = 0\nlet ctrl_y = 0\nlet prev_err_x = 0\nlet ctrl_x = 0\nlet err_y = 0\nlet err_x = 0\nlet target_y = 0\nlet target_x = 0\nlet y_raw = 0\nlet cur_y = 0\nlet cur_x = 0\nlet Kd = 0\nlet Kp = 0\nlet 텍스트사용 = 0\nmusic.play(music.createSoundExpression(\nWaveShape.Noise,\n1,\n1,\n255,\n0,\n500,\nSoundExpressionEffect.None,\nInterpolationCurve.Linear\n), music.PlaybackMode.UntilDone)\nlet x_raw: number;\nlet servo1_angle: number;\nlet servo2_angle: number;\nfunction show_text_step(text: string, delay: number = 500, blank: number = 100) {\n    for (let c of text) {\n        basic.showString(c, 50)\n        //  글자 표시\n        basic.pause(delay)\n        //  유지\n        basic.clearScreen()\n        //  지우기\n        basic.pause(blank)\n    }\n}\n// 빈 화면\nif (텍스트사용 == 0) {\n    // PID 계수\n    Kp = 0.1\n    // (0.3)\n    Kd = 0.1\n    // (0.2)\n    // 현재 위치 (float로 유지)\n    cur_x = 2\n    cur_y = 2\n    while (true) {\n        if (텍스트사용 == 0) {\n            // 가속도 값 읽기 (-1024 ~ +1024)\n            x_raw = input.acceleration(Dimension.X)\n            y_raw = input.acceleration(Dimension.Y)\n            // 좌표 변환: -1024~+1024 → 0~4\n            target_x = (x_raw + 256) * 6 / 512\n            target_y = (y_raw + 256) * 6 / 512\n            // PID 제어\n            err_x = target_x - cur_x\n            err_y = target_y - cur_y\n            ctrl_x = Kp * err_x + Kd * (err_x - prev_err_x)\n            ctrl_y = Kp * err_y + Kd * (err_y - prev_err_y)\n            cur_x += ctrl_x\n            cur_y += ctrl_y\n            prev_err_x = err_x\n            prev_err_y = err_y\n            // LED 표시\n            basic.clearScreen()\n            px = Math.min(4, Math.max(0, Math.trunc(cur_x)))\n            py = Math.min(4, Math.max(0, Math.trunc(cur_y)))\n            led.plotBrightness(px, py, 255)\n            // === 서보 제어 추가 ===\n            // X축 → 서보1 (핀 P1)\n            servo1_angle = Math.map(x_raw, -1024, 1024, 0, 180)\n            pins.servoWritePin(AnalogPin.P1, servo1_angle)\n            // Y축 → 서보2 (핀 P2)\n            servo2_angle = Math.map(y_raw, -1024, 1024, 0, 180)\n            pins.servoWritePin(AnalogPin.P2, servo2_angle)\n        }\n        basic.pause(5)\n    }\n}\n","README.md":"","main.py":"# 100ms 동안 빈 화면 유지\ndef on_button_pressed_a():\n    pass\ninput.on_button_pressed(Button.A, on_button_pressed_a)\n\ndef on_button_pressed_b():\n    pass\ninput.on_button_pressed(Button.B, on_button_pressed_b)\n\ndef on_logo_pressed():\n    global 텍스트사용\n    텍스트사용 = 1\n    if 텍스트사용 == 1:\n        basic.clear_screen()\n        show_text_step(\"2025/8/18/SLOP DETECTION\", 200, 50)\n        # 0.2초 표시 + 0.05초 빈화면\n        basic.pause(100)\n        텍스트사용 = 0\ninput.on_logo_event(TouchButtonEvent.PRESSED, on_logo_pressed)\n\npy = 0\npx = 0\nprev_err_y = 0\nctrl_y = 0\nprev_err_x = 0\nctrl_x = 0\nerr_y = 0\nerr_x = 0\ntarget_y = 0\ntarget_x = 0\ny_raw = 0\ncur_y = 0\ncur_x = 0\nKd = 0\nKp = 0\n텍스트사용 = 0\n\ndef show_text_step(text: str, delay: number = 500, blank: number = 100):\n    for c in text:\n        basic.show_string(c, 50)   # 글자 표시\n        basic.pause(delay)         # 유지\n        basic.clear_screen()       # 지우기\n        basic.pause(blank)         # 빈 화면\n\nif 텍스트사용 == 0:\n    # PID 계수\n    Kp = 0.1  # (0.3)\n    Kd = 0.1  # (0.2)\n\n    # 현재 위치 (float로 유지)\n    cur_x = 2\n    cur_y = 2\n\n    while True:\n        if 텍스트사용 == 0:\n            # 가속도 값 읽기 (-1024 ~ +1024)\n            x_raw = input.acceleration(Dimension.X)\n            y_raw = input.acceleration(Dimension.Y)\n\n            # 좌표 변환: -1024~+1024 → 0~4\n            target_x = (x_raw + 256) * 6 / 512\n            target_y = (y_raw + 256) * 6 / 512\n\n            # PID 제어\n            err_x = target_x - cur_x\n            err_y = target_y - cur_y\n            ctrl_x = Kp * err_x + Kd * (err_x - prev_err_x)\n            ctrl_y = Kp * err_y + Kd * (err_y - prev_err_y)\n            cur_x += ctrl_x\n            cur_y += ctrl_y\n            prev_err_x = err_x\n            prev_err_y = err_y\n\n            # LED 표시\n            basic.clear_screen()\n            px = min(4, max(0, int(cur_x)))\n            py = min(4, max(0, int(cur_y)))\n            led.plot_brightness(px, py, 255)\n\n            # === 서보 제어 추가 ===\n            # X축 → 서보1 (핀 P1)\n            servo1_angle = Math.map(x_raw, -1024, 1024, 0, 180)\n            pins.servo_write_pin(AnalogPin.P1, servo1_angle)\n\n            # Y축 → 서보2 (핀 P2)\n            servo2_angle = Math.map(y_raw, -1024, 1024, 0, 180)\n            pins.servo_write_pin(AnalogPin.P2, servo2_angle)\n\n        basic.pause(5)\n","pxt.json":"{\n    \"name\": \"기울기센서_16_GrantOK_2\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"servo\": \"*\",\n        \"XGO\": \"github:elecfreaks/xgo-rider#v1.5.6\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\",\n        \"main.py\"\n    ],\n    \"targetVersions\": {\n        \"branch\": \"stable8.0\",\n        \"tag\": \"v8.0.15\",\n        \"commits\": \"https://github.com/microsoft/pxt-microbit/commits/1908ef044d727bb983d165f41e9b1ae61b18ede4\",\n        \"target\": \"8.0.15\",\n        \"pxt\": \"12.0.16\"\n    },\n    \"preferredEditor\": \"tsprj\"\n}\n"}}],"shares":[],"lastSaveTime":1756256041248}